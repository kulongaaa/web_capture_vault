# Notes Desktop App - æœ¬åœ°çŸ¥è¯†ç®¡ç†æ¡Œé¢åº”ç”¨

> åŸºäº Electron + Koa2 + TypeScript çš„ç°ä»£åŒ–æœ¬åœ°çŸ¥è¯†ç®¡ç†åº”ç”¨

![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)
![Platform](https://img.shields.io/badge/platform-Windows%20%7C%20macOS%20%7C%20Linux-lightgrey.svg)
![Framework](https://img.shields.io/badge/framework-Electron-47848f.svg)
![Backend](https://img.shields.io/badge/backend-Koa2%20%2B%20TypeScript-00d8ff.svg)

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªå®Œå…¨æœ¬åœ°åŒ–çš„çŸ¥è¯†ç®¡ç†æ¡Œé¢åº”ç”¨ï¼Œä¸ºç”¨æˆ·æä¾›å®‰å…¨ã€é«˜æ•ˆã€åŠŸèƒ½ä¸°å¯Œçš„çŸ¥è¯†ç®¡ç†ä½“éªŒã€‚åº”ç”¨é‡‡ç”¨ç°ä»£åŒ–æŠ€æœ¯æ ˆï¼Œæ”¯æŒä¸æµè§ˆå™¨æ’ä»¶çš„æ— ç¼é›†æˆã€‚

### ğŸ¯ æ ¸å¿ƒç‰¹æ€§

- **ğŸ–¥ï¸ æ¡Œé¢åŸç”Ÿä½“éªŒ** - åŸºäº Electron çš„è·¨å¹³å°æ¡Œé¢åº”ç”¨
- **ğŸš€ é«˜æ€§èƒ½æ¶æ„** - Koa2 + TypeScript åç«¯ï¼ŒReact å‰ç«¯
- **ğŸ“ Markdown æ”¯æŒ** - å®Œæ•´çš„ Markdown ç¼–è¾‘å’Œé¢„è§ˆåŠŸèƒ½
- **ğŸ“ æ™ºèƒ½æ–‡ä»¶å¤¹ç®¡ç†** - å±‚æ¬¡åŒ–æ–‡ä»¶å¤¹ç»“æ„ï¼Œæ”¯æŒæ‹–æ‹½æ“ä½œ
- **ğŸ” å…¨æ–‡æœç´¢** - å¿«é€Ÿæ£€ç´¢çŸ¥è¯†å†…å®¹å’Œæ ‡ç­¾
- **ğŸ”— æµè§ˆå™¨æ’ä»¶é›†æˆ** - ä¸ Chrome æ’ä»¶æ— ç¼åä½œ
- **ğŸ’¾ æœ¬åœ°æ•°æ®å­˜å‚¨** - æ•°æ®å®Œå…¨å­˜å‚¨åœ¨æœ¬åœ°ï¼Œä¿æŠ¤éšç§
- **ğŸ¨ ç°ä»£åŒ–ç•Œé¢** - å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒæ·±è‰²æ¨¡å¼

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### å¤šè¿›ç¨‹æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Electron Desktop App                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Main Process  â”‚ Renderer Processâ”‚     Koa2 Server         â”‚
â”‚                 â”‚                 â”‚                         â”‚
â”‚ â€¢ åº”ç”¨ç”Ÿå‘½å‘¨æœŸ   â”‚ â€¢ React UI      â”‚ â€¢ REST API              â”‚
â”‚ â€¢ çª—å£ç®¡ç†       â”‚ â€¢ ç”¨æˆ·ç•Œé¢      â”‚ â€¢ æ•°æ®å¤„ç†              â”‚
â”‚ â€¢ IPC é€šä¿¡      â”‚ â€¢ ç•Œé¢é€»è¾‘      â”‚ â€¢ æ–‡ä»¶ç³»ç»Ÿ              â”‚
â”‚ â€¢ æœåŠ¡å™¨æ§åˆ¶     â”‚ â€¢ çŠ¶æ€ç®¡ç†      â”‚ â€¢ ä¸­é—´ä»¶ç³»ç»Ÿ            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯é€‰å‹ | è¯´æ˜ |
|------|----------|------|
| **æ¡Œé¢æ¡†æ¶** | Electron 28.0 | è·¨å¹³å°æ¡Œé¢åº”ç”¨æ¡†æ¶ |
| **å‰ç«¯æ¡†æ¶** | React 18.2 + TypeScript | ç°ä»£åŒ–ç”¨æˆ·ç•Œé¢ |
| **åç«¯æ¡†æ¶** | Koa2 + TypeScript | é«˜æ€§èƒ½ Node.js æ¡†æ¶ |
| **æ„å»ºå·¥å…·** | Webpack 5.89 | æ¨¡å—åŒ–æ„å»ºç³»ç»Ÿ |
| **æ ·å¼æ–¹æ¡ˆ** | CSS + CSS-in-JS | å“åº”å¼æ ·å¼è®¾è®¡ |
| **æ•°æ®å­˜å‚¨** | æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ | JSON æ ¼å¼æ•°æ®æŒä¹…åŒ– |
| **å¼€å‘è¯­è¨€** | TypeScript 5.3 | ç±»å‹å®‰å…¨çš„ JavaScript |

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
notes-desktop-app/
â”œâ”€â”€ src/                        # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ main/                   # Electron ä¸»è¿›ç¨‹
â”‚   â”‚   â””â”€â”€ main.ts            # ä¸»è¿›ç¨‹å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ preload/               # é¢„åŠ è½½è„šæœ¬
â”‚   â”‚   â””â”€â”€ preload.ts         # å®‰å…¨ä¸Šä¸‹æ–‡æ¡¥æ¥
â”‚   â”œâ”€â”€ renderer/              # æ¸²æŸ“è¿›ç¨‹ï¼ˆReact åº”ç”¨ï¼‰
â”‚   â”‚   â”œâ”€â”€ components/        # React ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx    # ä¾§è¾¹æ ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ NoteList.tsx   # çŸ¥è¯†åˆ—è¡¨ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ NoteEditor.tsx # çŸ¥è¯†ç¼–è¾‘å™¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/          # å‰ç«¯æœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ NotesApiService.ts # API è°ƒç”¨æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ styles/            # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ App.css        # åº”ç”¨æ ·å¼
â”‚   â”‚   â”‚   â””â”€â”€ index.css      # å…¨å±€æ ·å¼
â”‚   â”‚   â”œâ”€â”€ App.tsx            # åº”ç”¨æ ¹ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ index.tsx          # æ¸²æŸ“è¿›ç¨‹å…¥å£
â”‚   â”‚   â””â”€â”€ index.html         # HTML æ¨¡æ¿
â”‚   â”œâ”€â”€ server/                # Koa2 æœåŠ¡å™¨
â”‚   â”‚   â”œâ”€â”€ services/          # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ NotesService.ts    # çŸ¥è¯†æœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ FoldersService.ts  # æ–‡ä»¶å¤¹æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ index.ts           # æœåŠ¡å™¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ middleware.ts      # Koa ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ routes.ts          # API è·¯ç”±å®šä¹‰
â”‚   â””â”€â”€ types/                 # TypeScript ç±»å‹å®šä¹‰
â”‚       â””â”€â”€ index.ts           # å…¨å±€ç±»å‹å£°æ˜
â”œâ”€â”€ dist/                      # æ„å»ºè¾“å‡ºç›®å½•
â”‚   â”œâ”€â”€ main/                  # ä¸»è¿›ç¨‹æ„å»ºäº§ç‰©
â”‚   â”œâ”€â”€ renderer/              # æ¸²æŸ“è¿›ç¨‹æ„å»ºäº§ç‰©
â”‚   â””â”€â”€ server/                # æœåŠ¡å™¨æ„å»ºäº§ç‰©
â”œâ”€â”€ webpack.main.config.js     # ä¸»è¿›ç¨‹æ„å»ºé…ç½®
â”œâ”€â”€ webpack.renderer.config.js # æ¸²æŸ“è¿›ç¨‹æ„å»ºé…ç½®
â”œâ”€â”€ webpack.server.config.js   # æœåŠ¡å™¨æ„å»ºé…ç½®
â”œâ”€â”€ tsconfig.main.json         # ä¸»è¿›ç¨‹ TS é…ç½®
â”œâ”€â”€ tsconfig.renderer.json     # æ¸²æŸ“è¿›ç¨‹ TS é…ç½®
â”œâ”€â”€ tsconfig.server.json       # æœåŠ¡å™¨ TS é…ç½®
â””â”€â”€ package.json               # é¡¹ç›®é…ç½®æ–‡ä»¶
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Node.js** >= 18.0.0
- **npm** >= 8.0.0
- **æ“ä½œç³»ç»Ÿ**: Windows 10+ / macOS 10.14+ / Linux

### å®‰è£…æ­¥éª¤

```bash
# 1. å…‹éš†é¡¹ç›®
git clone <repository-url>
cd notes-desktop-app

# 2. å®‰è£…ä¾èµ–
npm install

# 3. æ„å»ºåº”ç”¨
npm run build

# 4. å¯åŠ¨åº”ç”¨
npm start
```

### å¼€å‘æ¨¡å¼

```bash
# å¯åŠ¨å¼€å‘æ¨¡å¼ï¼ˆçƒ­é‡è½½ï¼‰
npm run dev

# å•ç‹¬å¯åŠ¨å„ä¸ªè¿›ç¨‹
npm run dev:main      # ä¸»è¿›ç¨‹å¼€å‘æ¨¡å¼
npm run dev:renderer  # æ¸²æŸ“è¿›ç¨‹å¼€å‘æ¨¡å¼
npm run dev:server    # æœåŠ¡å™¨å¼€å‘æ¨¡å¼
```

## ğŸ”§ API æ¥å£æ–‡æ¡£

### åŸºç¡€ä¿¡æ¯

- **Base URL**: `http://127.0.0.1:3001`
- **API Version**: v1
- **Content-Type**: `application/json`
- **Authentication**: æœ¬åœ° Tokenï¼ˆå¯é€‰ï¼‰

### çŸ¥è¯†ç®¡ç† API

#### è·å–çŸ¥è¯†åˆ—è¡¨
```http
GET /api/notes
```

**æŸ¥è¯¢å‚æ•°**:
- `page` (number): é¡µç ï¼Œé»˜è®¤ 1
- `limit` (number): æ¯é¡µæ•°é‡ï¼Œé»˜è®¤ 20
- `folderId` (string): æ–‡ä»¶å¤¹ ID ç­›é€‰
- `search` (string): æœç´¢å…³é”®è¯
- `tags` (string): æ ‡ç­¾ç­›é€‰ï¼Œé€—å·åˆ†éš”

#### åˆ›å»ºçŸ¥è¯†
```http
POST /api/notes
```

#### æ›´æ–°çŸ¥è¯†
```http
PUT /api/notes/:id
```

#### åˆ é™¤çŸ¥è¯†
```http
DELETE /api/notes/:id
```

### æ–‡ä»¶å¤¹ç®¡ç† API

#### è·å–æ–‡ä»¶å¤¹æ ‘
```http
GET /api/folders
```

#### åˆ›å»ºæ–‡ä»¶å¤¹
```http
POST /api/folders
```

### æœç´¢ API

#### å…¨æ–‡æœç´¢
```http
GET /api/search?q=æœç´¢å…³é”®è¯
```

### ç»Ÿè®¡ä¿¡æ¯ API

#### è·å–ç»Ÿè®¡æ•°æ®
```http
GET /api/stats
```

## ğŸ“Š æ•°æ®å­˜å‚¨

### å­˜å‚¨ä½ç½®

æ•°æ®æ–‡ä»¶å­˜å‚¨åœ¨ç”¨æˆ·ç³»ç»Ÿçš„åº”ç”¨æ•°æ®ç›®å½•ï¼š

- **Windows**: `%APPDATA%\NotesDesktopApp`
- **macOS**: `~/Library/Application Support/NotesDesktopApp`
- **Linux**: `~/.config/NotesDesktopApp`

### æ•°æ®ç»“æ„

```
NotesDesktopApp/
â”œâ”€â”€ notes.json          # çŸ¥è¯†æ•°æ®
â”œâ”€â”€ folders.json        # æ–‡ä»¶å¤¹æ•°æ®
â””â”€â”€ config.json         # åº”ç”¨é…ç½®
```

## ğŸ”— æµè§ˆå™¨æ’ä»¶é›†æˆ

### é€šä¿¡åè®®

æ¡Œé¢åº”ç”¨é€šè¿‡ HTTP API ä¸æµè§ˆå™¨æ’ä»¶é€šä¿¡ï¼š

1. **æ¡Œé¢åº”ç”¨å¯åŠ¨** â†’ å¯åŠ¨ Koa2 æœåŠ¡å™¨ï¼ˆç«¯å£ 3001ï¼‰
2. **æµè§ˆå™¨æ’ä»¶** â†’ å‘é€ HTTP è¯·æ±‚åˆ°æœ¬åœ°æœåŠ¡å™¨
3. **æ•°æ®åŒæ­¥** â†’ å®æ—¶åŒå‘æ•°æ®äº¤æ¢

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ„å»ºå‘½ä»¤è¯¦è§£

```bash
# å®Œæ•´æ„å»º
npm run build               # æ„å»ºæ‰€æœ‰ç›®æ ‡
npm run build:main          # æ„å»ºä¸»è¿›ç¨‹
npm run build:renderer      # æ„å»ºæ¸²æŸ“è¿›ç¨‹
npm run build:server        # æ„å»ºæœåŠ¡å™¨

# å¼€å‘è°ƒè¯•
npm run dev                 # å¯åŠ¨å®Œæ•´å¼€å‘ç¯å¢ƒ
npm run dev:main            # ä¸»è¿›ç¨‹å¼€å‘æ¨¡å¼
npm run dev:renderer        # æ¸²æŸ“è¿›ç¨‹å¼€å‘æ¨¡å¼
npm run dev:server          # æœåŠ¡å™¨å¼€å‘æ¨¡å¼

# ä»£ç æ£€æŸ¥
npm run type-check          # TypeScript ç±»å‹æ£€æŸ¥
npm run test:api            # API æ¥å£æµ‹è¯•

# æ¸…ç†æ„å»º
npm run clean               # æ¸…ç† dist ç›®å½•
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**1. åº”ç”¨å¯åŠ¨å¤±è´¥**
```bash
# æ£€æŸ¥ Node.js ç‰ˆæœ¬
node --version  # åº”è¯¥ >= 18.0.0

# é‡æ–°å®‰è£…ä¾èµ–
rm -rf node_modules package-lock.json
npm install
```

**2. ç™½å±é—®é¢˜**
```bash
# é‡æ–°æ„å»ºæ¸²æŸ“è¿›ç¨‹
npm run build:renderer

# æ£€æŸ¥æ§åˆ¶å°é”™è¯¯
# åœ¨å¼€å‘æ¨¡å¼ä¸‹æŒ‰ F12 æ‰“å¼€ DevTools
```

**3. æœåŠ¡å™¨è¿æ¥å¤±è´¥**
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :3001

# é‡å¯æœåŠ¡å™¨
npm run dev:server
```

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ LICENSE æ–‡ä»¶

---

**Notes Desktop App** - è®©æœ¬åœ°çŸ¥è¯†ç®¡ç†æ›´ç®€å•ã€æ›´å®‰å…¨ã€æ›´é«˜æ•ˆï¼